{% extends 'layout.html' %}
{% block content %}
<h2 class="mb-4">Modo Carrera</h2>
<div class="card bg-secondary p-3 mb-4">
<form action="/add_player" method="post" class="row g-2">
<div class="col-md-3"><input class="form-control" name="name" placeholder="Nombre" required></div>
<div class="col-md-2"><input class="form-control" name="age" type="number" placeholder="Edad" required></div>
<div class="col-md-2"><input class="form-control" name="nationality" placeholder="Nacionalidad"></div>
<div class="col-md-2"><input class="form-control" name="position" placeholder="Posición" required></div>
<div class="col-md-1"><input class="form-control" name="goals" type="number" placeholder="Goles"></div>
<div class="col-md-2"><button class="btn btn-primary w-100" type="submit">Añadir jugador</button></div>
</form>
</div>
<table class="table table-dark table-striped">
<thead><tr><th>Nombre</th><th>Edad</th><th>Nacionalidad</th><th>Pos</th><th>GRL</th><th>Goles</th><th>Asist</th><th>Valor</th><th>Salario</th><th>Acciones</th></tr></thead>
<tbody>
{% for p in players %}
<tr>
<td>{{ p.name }}</td>
<td>{{ p.age }}</td>
<td>{{ p.nationality }}</td>
<td>{{ p.position }}</td>
<td>{{ p.grl }}</td>
<td>{{ p.goals }}</td>
<td>{{ p.assists }}</td>
<td>{{ p.market_value }}</td>
<td>{{ p.salary }}</td>
<td>
<form action="/delete_player/{{ p.id }}" method="post" style="display:inline-block">
<button class="btn btn-sm btn-danger" type="submit">Eliminar</button>
</form>
</td>
</tr>
{% endfor %}
</tbody>
</table>
<div class="mt-3"><a href="/export/plantilla.xlsx" class="btn btn-success">Exportar plantilla (XLSX)</a></div>
{% endblock %}
